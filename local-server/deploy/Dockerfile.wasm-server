# Dockerfile.wasm-server
FROM alpine:latest

# 安装 Python
RUN apk add --no-cache python3 py3-pip

# 创建应用目录
WORKDIR /app

# 复制 WASM 服务器代码
COPY wasm_server.py /app/

# 创建 WASM 文件目录
RUN mkdir -p /data/wasm-plugins

# 暴露端口
EXPOSE 8080

# 启动命令
CMD ["python3", "wasm_server.py"]